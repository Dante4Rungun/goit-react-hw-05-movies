"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[527],{527:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(885),s=a(2791),r=a(6731),c=a(470),i={addinfo:"MovieDetails_addinfo__tlUqB",details:"MovieDetails_details__-8Cxp"},u=a(5861),o=a(7757),l=a.n(o),d="MovieDetailsInfo_details__oGiCf",f="MovieDetailsInfo_details__info__pjQiU",p="MovieDetailsInfo_details__header__SWKgI",_="MovieDetailsInfo_details__genresList__K-WR1",h="MovieDetailsInfo_details__genresItem__8kYj4",v="MovieDetailsInfo_details__text__heb+d",m="MovieDetailsInfo_details__titles__np087",x=a(409),g=a(184),j=function(){var e=(0,c.UO)().id,t=(0,s.useState)(""),a=(0,n.Z)(t,2),r=a[0],i=a[1],o=(0,s.useState)(""),j=(0,n.Z)(o,2),w=j[0],b=j[1],k=(0,s.useState)(0),N=(0,n.Z)(k,2),Z=N[0],S=N[1],y=(0,s.useState)(""),M=(0,n.Z)(y,2),U=M[0],D=M[1],I=(0,s.useState)([]),C=(0,n.Z)(I,2),R=C[0],G=C[1];return(0,s.useEffect)((function(){function t(){return(t=(0,u.Z)(l().mark((function t(){var a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.ZP.fetchFilms("movie","".concat(e),1);case 2:a=t.sent,i(a.poster_path),b(a.title),S(a.vote_average),D(a.overview),G(a.genres);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(r),alt:"".concat(w," poster")}),(0,g.jsxs)("div",{className:f,children:[(0,g.jsx)("h2",{className:p,children:w}),(0,g.jsxs)("p",{className:v,children:["User Score: ",Math.round(10*Z),"%"]}),(0,g.jsx)("p",{className:m,children:"Overview"}),(0,g.jsx)("p",{className:v,children:U}),(0,g.jsx)("p",{className:m,children:"Genres"}),(0,g.jsx)("ul",{className:_,children:R.map((function(e){return(0,g.jsx)("li",{className:h,children:(0,g.jsx)("p",{className:v,children:e.name})})}))})]})]})},w=function(){var e=(0,c.TH)(),t=(0,s.useState)(""),a=(0,n.Z)(t,2),u=a[0],o=a[1];return(0,s.useEffect)((function(){console.log(e),e.pathname.includes("/cast")||e.pathname.includes("/reviews")?o((function(e){return e})):o(e.state.from)}),[e]),(0,g.jsxs)("div",{className:i.details,children:[(0,g.jsx)(r.rU,{to:u,children:"Go back"}),(0,g.jsx)(j,{}),(0,g.jsxs)("ul",{className:i.addinfo,children:[(0,g.jsx)("li",{className:i.addinfo__item,children:(0,g.jsx)(r.rU,{to:"cast",children:"Cast"})}),(0,g.jsx)("li",{className:i.addinfo__item,children:(0,g.jsx)(r.rU,{to:"reviews",children:"Reviews"})})]}),(0,g.jsx)(s.Suspense,{fallback:(0,g.jsx)("div",{children:"Loading subpage..."}),children:(0,g.jsx)(c.j3,{})})]})}},409:function(e,t,a){var n=a(5861),s=a(7757),r=a.n(s),c=a(4569),i=a.n(c);i().defaults.baseURL="https://api.themoviedb.org/3/";var u="de9b46869023b8f92c21ca747a043c5f",o=function(){var e=(0,n.Z)(r().mark((function e(t,a,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(t,"/").concat(a,"?api_key=").concat(u,"&page=").concat(n));case 2:if(s=e.sent,"movie"!==t){e.next=7;break}return e.abrupt("return",s.data);case 7:return e.abrupt("return",s.data.results);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("movie/".concat(t,"/credits?api_key=").concat(u));case 2:return a=e.sent,e.abrupt("return",a.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("movie/".concat(t,"/reviews?api_key=de9b46869023b8f92c21ca747a043c5f&language=en-US&page=1"));case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(r().mark((function e(t){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("search/movie?api_key=de9b46869023b8f92c21ca747a043c5f&language=en-US&query=".concat(t,"&page=1&include_adult=false"));case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p={fetchFilms:o,fetchCast:l,fetchReviews:d,fetchSearch:f};t.ZP=p}}]);
//# sourceMappingURL=527.6bb6dbb4.chunk.js.map